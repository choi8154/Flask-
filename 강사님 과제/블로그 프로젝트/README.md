# 블로그 구상

>웹페이지 구성
```
로그인 ─ 회원가입
  │
홈페이지 ── 올라온 글들
  └─ 내 블로그
        ├─ 새글 쓰기
        └─ 글 확인
             └─ 글 수정, 삭제
```
- 루트 페이지로 들어가면 환영문구와 로그인, 회원가입 문구가 나옴

- 로그인 : DB에 회원을 조회하여 존재하면 '/myblog' 로 들어감. 없을시 존재하지않는 회원입니다를 반환

- 회원가입 : 아이디, 비밀번호, 비밀번호 확인, 이메일, 이름, 전화번호를 입력하는 페이지로 전환.
    - 회원가입 성공 : 로그인 페이지를 반환
    - 이미 등록된 아이디, 이메일, 전화번호를 입력 시 이미 존재한다를 반환

- 블로그 홈페이지 
    - 좌상단에 로그아웃, 우상단에 검색, 새글작성, 내 블로그 확인 가능
    - 실시간으로 올라오는 회원들 블로그를 확인 가능.
    - 올라오는 블로그 회원 이름, 제목, 카테고리로 조회 가능

- 내 블로그 (시간 관계상 구현 못 함)
    - 홈페이지로 이동, 새글 작성, 로그아웃, 내 글 조회 삭제 수정 가능.
    - 비밀번호로 시크릿 블로그 가능.


# 만든 순서
0. 블로그 구조 구상 (완료)
1. app(models, routes)생성, templates생성, resource생성, static생성(ai로 채워질 예정) (완료)
2. 각 폴더마다 README.md 생성 (완료)
3. .venv 가상환경 생성하여 라이브러리 설치 (완료)
4. db구조 구상 및 __init__, user.py, post.py 파일 생성하여 DB생성 및 table생성 (완료)
5. routes에 user.py 생성 (완료) 19:09
6. routes에 post.py 생성 (완료)
6. 생각해보니 페이지마다 라우터가 필요함. routes/sign_up, sign_in,posts, create_post, 가 필요함.
 - routes/sign_up (완료)
 - routes/sign_in (완료)
 - 실행 테스트
    - 블프 이름을 route/signin,up 둘 다 똑같이 해서 오류 (해결)
    - models/__init__에서 순환참조, db생성 접근 비밀번호 안쳐서 오류 (해결)
    - 3트만에 성공...은 무슨 페이지 오류 : templates폴더를 못찾아서 app 플라스크 지정에 경로를 추가함. (해결)
    - 일단 웹 페이지 구현은 잘 되는데 static을 인식 못하고, db는 만들어졌는데 테이블이 안만들어짐 (해결)  
    static이 아니라 resource에 넣었었음, __init__에코드 순서 중요!!
    - <a href="{{ url_for('signin.signin') }}">로그인</a> 블루프린트 이름이 이상했음 signin.sign_in으로 돼있었음 (해결)
    - 회원가입하면 로그인 페이지로 가고 데이터베이스에 데이터가 들어와야 하는데 안들어옴 (해결)  
    유저 아이디 생성에 이미 있는 아이디 확인을 id로 함 -> filter로 변경
 - routes/blog (완료)
 - routes/posts (완료)
    - 포스팅 할 때 세션이 필요하다고 느낌. 로그인시 세션에 정보가 저장되도록 추가함. + run.py에 세션 비밀번호 저장.
    - 포스트에서 세션 id확인 후 수정 삭제 권한을 가지도록 라우트 추가하였음.
 - routes/myposts (보류)
 - routes/createpost (완료)
7. html, css, js ai에게 전적으로 맡기기..(완료)
8. 여러 오류가 있었지만 일일이 다 기록하면 하루가 짧기 때문에 자잘한건 기록하지 않았음.
9. 블로그 검색 라우터도 만들고 싶지만 과제 제출 후 추가적으로 수정 할 예정.
10. 로그아웃을 해도 세션이 남았는 문제 발견. 코드 수정 후에도 쿠키에 세션이 계속 남아있음(해결) 1:33  
모든 라우터에 세션인증 방식으로 접근 가능하게하고 세션이 없으면 로그인 라우터를 호출
+
 - 세션 방식을 이해할 수 있는 시간이었음. 토큰을 이용한 JWT방식도 사용해보고 싶어짐.
 - 추상화의 필요성을 뼈저리게 느낌
 - 파일 구조를 거의 완전히 이해하게 되었음.
 - 마크다운을 사용한 정보 정리를 깔끔하게 하고싶어짐... 너무 지저분함.
